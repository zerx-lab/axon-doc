# ==========================================
# AxonDoc 生产环境配置模板
# ==========================================
# 使用 GitHub Container Registry (GHCR) 存储镜像
#
# 使用说明:
# 1. cp .env.production.example .env.production
# 2. 编辑 .env.production 配置实际值
# 3. 使用 docker-compose -f docker-compose.prod.yml --env-file .env.production up -d
#
# 镜像地址: ghcr.io/{GITHUB_USER}/{GITHUB_REPO}-nextjs:latest
#          ghcr.io/{GITHUB_USER}/{GITHUB_REPO}-crawler:latest

# ==========================================
# 通用配置
# ==========================================
NODE_ENV=production
ENVIRONMENT=production
APP_NAME=axon-doc
APP_VERSION=0.1.0

# ==========================================
# GitHub Container Registry 配置
# ==========================================
# 从 GitHub Actions 工作流自动设置
# 或手动设置为: your-github-username/your-repo-name
GITHUB_USER=your-github-username
GITHUB_REPO=axon-doc
IMAGE_TAG=latest

# ==========================================
# 网关 (Kong) 配置
# ==========================================
KONG_HTTP_PORT=4321
KONG_HTTPS_PORT=4322
SUPABASE_PUBLIC_URL=http://localhost:4321

# ==========================================
# Supabase 数据库配置
# ==========================================
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=jysuXvKLDhmYuyKZSLYQxSzU
DATABASE_URL=postgresql://postgres:jysuXvKLDhmYuyKZSLYQxSzU@db:5432/postgres

# ==========================================
# Supabase JWT 和认证配置
# ==========================================
JWT_SECRET=super-secret-jwt-token-with-at-least-32-characters
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlIiwiaWF0IjoxNzY4Njk4Nzg2LCJleXAiOjE5MjYzNzg3ODZ9.r5b3mhh7VEolCMylfXWarbU7K9GX5w8MD_UOloy_mtQ
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoic2VydmljZV9yb2xlIiwiaXNzIjoic3VwYWJhc2UiLCJpYXQiOjE3Njg2OTg3ODYsImV4cCI6MTkyNjM3ODc4Nn0.zZnRTFTpT5IydtnS8Hj3ngCgH4swHUQghqP8tzfURUA

# ==========================================
# Supabase Studio 配置
# ==========================================
STUDIO_DEFAULT_ORGANIZATION=default
STUDIO_DEFAULT_PROJECT=axon-doc
DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=this_password_is_insecure_and_should_be_updated

# ==========================================
# Supabase 邮件配置 (可选)
# ==========================================
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ==========================================
# Supabase Analytics (Logflare)
# ==========================================
LOGFLARE_API_KEY=your-logflare-api-key
LOGFLARE_PUBLIC_ACCESS_TOKEN=your-logflare-public-token
LOGFLARE_PRIVATE_ACCESS_TOKEN=your-logflare-private-token

# ==========================================
# Next.js 应用配置
# ==========================================
NEXT_PUBLIC_SUPABASE_URL=http://kong:8000
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlIiwiaWF0IjoxNzY4Njk4Nzg2LCJleXAiOjE5MjYzNzg3ODZ9.r5b3mhh7VEolCMylfXWarbU7K9GX5w8MD_UOloy_mtQ
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoic2VydmljZV9yb2xlIiwiaXNzIjoic3VwYWJhc2UiLCJpYXQiOjE3Njg2OTg3ODYsImV4cCI6MTkyNjM3ODc4Nn0.zZnRTFTpT5IydtnS8Hj3ngCgH4swHUQghqP8tzfURUA
NEXT_PORT=3001

# ==========================================
# Crawler 服务配置
# ==========================================
SUPABASE_URL=http://kong:8000
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoic2VydmljZV9yb2xlIiwiaXNzIjoic3VwYWJhc2UiLCJpYXQiOjE3Njg2OTg3ODYsImV4cCI6MTkyNjM3ODc4Nn0.zZnRTFTpT5IydtnS8Hj3ngCgH4swHUQghqP8tzfURUA
CRAWLER_TIMEOUT=60000
CRAWLER_MAX_DEPTH=3
CRAWLER_MAX_PAGES=100
CRAWLER_WAIT_UNTIL=load
API_HOST=0.0.0.0
API_PORT=8001
NEXTJS_WEBHOOK_URL=http://nextjs:3001/api/webhook/crawl

# ==========================================
# Redis 配置 (可选)
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==========================================
# OpenAI / LLM 配置 (用于爬虫分析)
# ==========================================
OPENAI_API_KEY=your-openai-api-key

# ==========================================
# 日志配置
# ==========================================
LOG_LEVEL=info
