# ==========================================
# AxonDoc Deployment Configuration
# ==========================================
# Copy this file to .env and update the values
# Generate secrets: openssl rand -hex 32

# ==========================================
# REQUIRED - Must change before deployment
# ==========================================

# Database password (generate with: openssl rand -base64 24)
POSTGRES_PASSWORD=your-super-secret-postgres-password

# JWT Secret (generate with: openssl rand -hex 32)
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters

# Supabase Keys (generate using the script below or jwt.io)
# These are JWTs signed with JWT_SECRET
ANON_KEY=your-anon-key
SERVICE_ROLE_KEY=your-service-role-key

# Encryption keys
SECRET_KEY_BASE=your-secret-key-base-at-least-64-chars
VAULT_ENC_KEY=your-32-character-encryption-key
PG_META_CRYPTO_KEY=your-encryption-key-32-chars-min

# ==========================================
# URLs - Update for production
# ==========================================

# Your app URL (where users access the app)
SITE_URL=http://localhost:3001

# Supabase API URL (Kong gateway)
API_EXTERNAL_URL=http://localhost:8000

# Public URL for frontend (same as API_EXTERNAL_URL for self-hosted)
PUBLIC_SUPABASE_URL=http://localhost:8000

# ==========================================
# Ports
# ==========================================

KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443
NEXTJS_PORT=3001
CRAWLER_PORT=8001
REDIS_PORT=6379
POOLER_PORT=5432
POOLER_PROXY_PORT=6543

# ==========================================
# Auth Settings
# ==========================================

JWT_EXPIRY=3600
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true
ENABLE_ANONYMOUS_USERS=false
ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false

# ==========================================
# SMTP (Optional - for email auth)
# ==========================================

SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SENDER_NAME=AxonDoc

# ==========================================
# Dashboard Auth
# ==========================================

DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=change-this-password

# ==========================================
# Analytics (auto-generated if empty)
# ==========================================

LOGFLARE_PUBLIC_ACCESS_TOKEN=
LOGFLARE_PRIVATE_ACCESS_TOKEN=

# ==========================================
# Database Pooler
# ==========================================

POOLER_TENANT_ID=axon-doc
POOLER_DEFAULT_POOL_SIZE=20
POOLER_MAX_CLIENT_CONN=100
POOLER_DB_POOL_SIZE=5

# ==========================================
# Other
# ==========================================

PGRST_DB_SCHEMAS=public,storage,graphql_public
IMGPROXY_ENABLE_WEBP_DETECTION=true
ADDITIONAL_REDIRECT_URLS=
